# Kubernetes Secrets Configuration
# 
# IMPORTANT: This file contains placeholders. In production:
# 1. Use sealed-secrets or external-secrets-operator
# 2. Or integrate with Azure Key Vault using CSI driver
# 3. Never commit actual secrets to version control
#
# For local development, create a copy of this file named
# secrets.yaml and replace placeholders with actual values.
# Add secrets.yaml to .gitignore

apiVersion: v1
kind: Secret
metadata:
  name: database-secrets
  namespace: smart-irrigation
type: Opaque
stringData:
  # PostgreSQL (ACA-O Service)
  POSTGRES_USER: "postgres"
  POSTGRES_PASSWORD: "${POSTGRES_PASSWORD}"
  POSTGRES_DB: "optimization"
  DATABASE_URL: "postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/optimization"
  
  # MongoDB (Auth Service)
  MONGODB_URI: "mongodb://mongo:27017"
  MONGODB_DB_NAME: "smart_irrigation_auth"
  
  # InfluxDB (Irrigation/Forecasting)
  INFLUXDB_URL: "http://influxdb:8086"
  INFLUXDB_TOKEN: "${INFLUXDB_TOKEN}"
  INFLUXDB_ORG: "smart-irrigation"
  INFLUXDB_BUCKET: "sensors"

---
apiVersion: v1
kind: Secret
metadata:
  name: auth-secrets
  namespace: smart-irrigation
type: Opaque
stringData:
  # JWT Configuration
  JWT_SECRET_KEY: "${JWT_SECRET_KEY}"
  JWT_ALGORITHM: "HS256"
  ACCESS_TOKEN_EXPIRE_MINUTES: "30"
  REFRESH_TOKEN_EXPIRE_DAYS: "7"

---
apiVersion: v1
kind: Secret
metadata:
  name: redis-secrets
  namespace: smart-irrigation
type: Opaque
stringData:
  REDIS_URL: "redis://redis:6379"
  REDIS_PASSWORD: "${REDIS_PASSWORD}"

---
apiVersion: v1
kind: Secret
metadata:
  name: mqtt-secrets
  namespace: smart-irrigation
type: Opaque
stringData:
  MQTT_BROKER: "mosquitto"
  MQTT_PORT: "1883"
  MQTT_USERNAME: "${MQTT_USERNAME}"
  MQTT_PASSWORD: "${MQTT_PASSWORD}"

---
apiVersion: v1
kind: Secret
metadata:
  name: observability-secrets
  namespace: smart-irrigation
type: Opaque
stringData:
  OTEL_EXPORTER_OTLP_ENDPOINT: "http://jaeger:4317"
  GRAFANA_ADMIN_USER: "admin"
  GRAFANA_ADMIN_PASSWORD: "${GRAFANA_PASSWORD}"
